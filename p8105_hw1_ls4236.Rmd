---
title: "p8105_hw1_ls4236"
author: "Liliang Su"
date: "2025-09-11"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Problem 1

Load the `moderndive` library and `early_january_weather` dataset.
```{r data_loading}
library(moderndive)

data("early_january_weather")
```

### Data Description

First of all, I try to write a brief description of the dataset using inline R code.

```{r check_the_data}
head(early_january_weather)
```
As the above table shows, in `early_january_weather` dataset, there are `r nrow(early_january_weather)` rows (samples) and `r ncol(early_january_weather)` columns (variables), including `r colnames(early_january_weather)`. Specifically, key variables include:

- `origin`(`character`): the location of weather station.
- `year, month, day, hour`(`integer`): Time of recording.
- `temp` (`double`): air temperature in Fahrenheit.
- `humid` (`double`): relative humidity between 0 and 1.
- `wind_dir, wind_speed` (`double`): wind direction (in degrees) and speed(in mph).
- `time_hour` (`POSIXct`): Date and hour of the recording as a POSIXct date.

Notably, the `temp` column has an average temperature of `r mean(early_january_weather$temp, na.rm = TRUE)`.

### Plotting

Secondly, I try to create a scatterplot of `temp`(y) vs `time_hour`(x), with color points using the `humid` variable.

```{r}
plot_temp_th <- 
  ggplot(early_january_weather, aes(x = time_hour,  y = temp, color = humid)) + 
  geom_point() + 
  labs(x = "Time (hourly)", y = "Temperature", color = "Humidity")

plot_temp_th

ggsave("plot_temp_th.png", plot_temp_th, width = 8, height = 5)
```
Overall, the scatterplot shows that the temperature has increased over time, rising from about 30°F in early January to around 50°F in mid-January. Despite the upward trend, there has been frequent large fluctuations in daily temperature. Humidity has shown a generally positive correlation with temperature increase, with higher values more common when temperatures are climbing, especially in mid-January.


## Problem 2

Here create a dataframe.

```{r dataframe_create}
set.seed(123)
df <-
  tibble(
    vec_numeric = rnorm(10, mean=0, sd=1),
    vec_logical = vec_numeric > 0,
    vec_char = c(rep("apple",2), rep("grape",3), rep("kiwi",5)),
    vec_factor = factor(vec_char, levels = c("apple", "grape", "kiwi"))
  )

df
```
- The mean value of the column `vec_numeric` is `r df %>% pull(vec_numeric) %>% mean()`.
- The mean value of the column `vec_logical` is `r df %>% pull(vec_logical) %>% mean()`.
- The mean value of the column `vec_char` is `r df %>% pull(vec_char) %>% mean()`.
- The mean value of the column `vec_factor` is `r df %>% pull(vec_factor) %>% mean()`.

Next, try to applies the `as.numeric` function to the logical, character, and factor variables.
```{r, eval=FALSE}
as.numeric(df$vec_logical)
as.numeric(df$vec_char)
as.numeric(df$vec_factor)
```
- Applying `as.numeric` function to a logical vector converts `TRUE` to 1 and `FALSE` to 0. 
- For a character vector, the conversion does not work and produces `NA` values only.
- For a factor vector, for elements with predefined level, it returns the internal integer codes of the factor levels, and returns `NA` for elements that do not belong to either of the predefined level. 

This helps explain why `mean` functions works on logical vector (proportion of `TRUE`s), fails on character vector, and sometimes fails to produce results on factor vector. Even if it successfully produce results on factor vector, it still has little statistical interpretations.
